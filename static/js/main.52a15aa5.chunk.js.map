{"version":3,"sources":["js/Api/utils.ts","js/Api/constants.ts","js/Api/index.ts","js/Api/Api.ts","js/components/sidebar/actions.ts","js/components/sidebar/Sidebar.tsx","js/components/sidebar/reducer.ts","js/components/sidebar/index.ts","utils.ts","js/components/card-list/components/Card.tsx","js/components/card-list/CardList.tsx","js/components/card-list/reducer.ts","js/components/card-list/index.ts","js/components/card-list/actions.ts","reducers/index.ts","reducers/CardListReducer.ts","containers.ts","index.tsx"],"names":["fetchApi","rqst","a","response","result","fetch","url","Error","json","ok","console","log","HEADERS","Accept","api","this","method","headers","Sidebar","props","dispatch","actions","getDogs","changeFilterState","filter","className","id","type","onClick","changeFilter","htmlFor","addDog","React","PureComponent","initialState","loading","GET_DOGS","GET_DOGS_OK","GET_DOGS_ERROR","CHANGE_FILTER_STATE","payload","convert","dog","message","liked","parseInt","split","getDog","Card","src","alt","onDeleteCard","onChangeLikeCard","CardList","cardList","card","state","setState","prevProps","length","map","onChangeLike","modifyCardList","cardEl","CHANGE_LIKE_CARD","DELETE_CARD","combineReducers","sidebar","action","actionsSidebar","push","addCard","cardListReducer","SidebarContainer","connect","DogsContainer","store","applyMiddleware","getState","next","Function","createStore","reducer","document","getElementById","ReactDOM","render"],"mappings":"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","file":"static/js/main.52a15aa5.chunk.js","sourcesContent":["import { APIRequest } from './interfaces'\r\n\r\nexport async function fetchApi<T>(rqst: APIRequest): Promise<T> {\r\n  let response: Response | null = null,\r\n    result: T | Error | null = null\r\n\r\n  try {\r\n    response = await fetch(rqst.url, rqst as RequestInit)\r\n  } catch (exception) {\r\n    throw new Error('Ошибка при выполнении запроса')\r\n  }\r\n\r\n  try {\r\n    result = await response.json()\r\n  } catch (exception) {\r\n    throw new Error('Ошибка получения данных')\r\n  }\r\n\r\n  if (!response.ok) {\r\n    throw new Error('Ошибка при выполнении запроса')\r\n  }\r\n\r\n  console.log('API:', result)\r\n\r\n  return result as T\r\n}\r\n","export const HEADERS = {'Content-Type': 'application/json', Accept: '*/*' }\r\n","import Api from './Api'\r\nexport const api = new Api()\r\n","import { fetchApi } from './utils'\r\nimport { HEADERS } from './constants'\r\nimport { getDogResponse } from './interfaces'\r\n\r\nexport default class Api {\r\n  readonly url = 'https://dog.ceo/api/breeds/image/random'\r\n\r\n  async getDog(): Promise<getDogResponse> {\r\n    const result = await fetchApi<getDogResponse>({\r\n      url: this.url,\r\n      method: 'GET',\r\n      headers:HEADERS\r\n    })\r\n\r\n    return result\r\n  }\r\n}\r\n","import { IAction, IActionAsync } from '../../../interfaces'\r\nimport { api } from '../../Api'\r\nimport { getDogResponse } from '../../Api/interfaces'\r\nimport { Card } from '../card-list/interfaces'\r\nimport { getId } from '../../../utils'\r\n\r\nexport class Actions {\r\n  readonly GET_DOGS = 'GET_DOGS'\r\n  readonly GET_DOGS_OK = 'GET_DOGS_OK'\r\n  readonly GET_DOGS_ERROR = 'GET_DOGS_ERROR'\r\n\r\n  readonly CHANGE_FILTER_STATE = 'CHANGE_FILTER_STATE'\r\n\r\n  changeFilterState = (filter: boolean): IAction => ({ type: this.CHANGE_FILTER_STATE, payload: filter })\r\n\r\n  getDogs = (): IActionAsync => async (dispatch) => {\r\n    const convert = (dog: getDogResponse): Card => ({ url: dog.message, liked: false, id: getId(dog.message) })\r\n    dispatch({ type: this.GET_DOGS })\r\n    try {\r\n      dispatch({ type: this.GET_DOGS_OK, payload: convert(await api.getDog()) })\r\n    } catch (error) {\r\n      dispatch({ type: this.GET_DOGS_ERROR, payload: error })\r\n    }\r\n  }\r\n}\r\n","import React from 'react'\r\nimport { SidebarProps } from './interfaces'\r\nimport { actions } from './index'\r\n\r\nexport class Sidebar extends React.PureComponent<SidebarProps, never> {\r\n  addDog(): void {\r\n    this.props.dispatch(actions.getDogs())\r\n  }\r\n\r\n  changeFilter(): void {\r\n    this.props.dispatch(actions.changeFilterState(!this.props.filter))\r\n  }\r\n\r\n  render(): React.ReactNode {\r\n    return (\r\n      <div className=\"sidebar\">\r\n        <div className=\"sidebar__filter\">\r\n          <h5 className=\"filter__title\">Отфильтровать карточки</h5>\r\n          <input className=\"filter-input\" id=\"checkbox\" type=\"checkbox\" />\r\n          <label onClick={() => this.changeFilter()} className=\"filter-label\" htmlFor=\"checkbox\" />\r\n        </div>\r\n\r\n        <button className=\"sidebar__btn\" onClick={() => this.addDog()}>\r\n          Добавить рандомную карточку\r\n        </button>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import { SidebarStorage } from './interfaces'\r\nimport { IAction } from '../../../interfaces'\r\nimport { actions } from './index'\r\n\r\nconst initialState: SidebarStorage = {\r\n  filter: false,\r\n  loading: false\r\n}\r\n\r\nexport function reducer(state = initialState, action: IAction): SidebarStorage {\r\n  switch (action.type) {\r\n    case actions.CHANGE_FILTER_STATE:\r\n      return { ...state, filter: action.payload as boolean }\r\n    case actions.GET_DOGS:\r\n      return { ...state, loading: true }\r\n    case actions.GET_DOGS_OK:\r\n    case actions.GET_DOGS_ERROR:\r\n      return { ...state, loading: false }\r\n\r\n    default:\r\n      return { ...state }\r\n  }\r\n}\r\n","import { Actions } from './actions'\r\nexport type { SidebarStorage, SidebarProps } from './interfaces'\r\nexport { Sidebar } from './Sidebar'\r\nexport { reducer } from './reducer'\r\nexport const actions = new Actions()\r\n","import { Action, Middleware } from 'redux'\r\n\r\nexport const actionFn: Middleware =\r\n  ({ dispatch, getState }) =>\r\n  (next) =>\r\n  (action: Action): Action => {\r\n    if (action instanceof Function) {\r\n      return action(dispatch, getState)\r\n    }\r\n\r\n    return next(action)\r\n  }\r\n\r\nexport function getId(message: string): number {\r\n  return parseInt(message.split('.jpg')[0].split('_')[1], 10)\r\n}\r\n","import React from 'react'\r\nimport { CardProps } from '../interfaces'\r\n\r\nexport class Card extends React.PureComponent<CardProps, never> {\r\n  render(): React.ReactNode {\r\n    console.log('card', this.props)\r\n    return (\r\n      <div className=\"card\">\r\n        <div className=\"card__body\">\r\n          <img className=\"card__img\" src={this.props.url} alt=\"Собачка\" />\r\n        </div>\r\n        <div className=\"card__footer\">\r\n          <button\r\n            className=\"card__btn_delete\"\r\n            onClick={() => {\r\n              this.props.onDeleteCard({ url: this.props.url, liked: !this.props.liked, id: this.props.id })\r\n            }}>\r\n            Удалить\r\n          </button>\r\n          <button\r\n            onClick={() => {\r\n              this.props.onChangeLikeCard({ url: this.props.url, liked: !this.props.liked, id: this.props.id })\r\n            }}\r\n            className={`card__btn_like ${this.props.liked ? 'card__btn_like-active' : ''}`}\r\n          />\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import React from 'react'\r\nimport { CardListProps, Card as ICard, CardListState } from './interfaces'\r\nimport { Card } from './components/Card'\r\n\r\nimport { actions } from './index'\r\n\r\nexport class CardList extends React.PureComponent<CardListProps, CardListState> {\r\n  readonly initialState: CardListState = {\r\n    cardList: []\r\n  }\r\n\r\n  constructor(props: CardListProps) {\r\n    super(props)\r\n    this.state = { ...this.initialState }\r\n  }\r\n\r\n  componentDidMount(): void {\r\n    this.setState({ cardList: this.props.cardList })\r\n  }\r\n\r\n  componentDidUpdate(prevProps: Readonly<CardListProps>): void {\r\n    if (!prevProps.filter && this.props.filter) {\r\n      this.setState({ cardList: this.filter() })\r\n      return\r\n    }\r\n\r\n    if (prevProps.filter && !this.props.filter) {\r\n      this.setState({ cardList: this.props.cardList })\r\n      return\r\n    }\r\n\r\n    if (prevProps.cardList !== this.props.cardList && this.props.filter) {\r\n      this.setState({ cardList: this.filter() })\r\n      return\r\n    }\r\n\r\n    if (prevProps.cardList !== this.props.cardList && !this.props.filter) {\r\n      this.setState({ cardList: this.props.cardList })\r\n    }\r\n  }\r\n\r\n  filter(): ICard[] {\r\n    return this.props.cardList.filter((card) => card.liked === true)\r\n  }\r\n\r\n  onChangeLikeCard = (card: ICard): void => {\r\n    this.props.dispatch(actions.onChangeLikeCard(card))\r\n  }\r\n\r\n  onDeleteCard = (card: ICard): void => {\r\n    this.props.dispatch(actions.onDeleteCard(card))\r\n  }\r\n\r\n  render(): React.ReactNode {\r\n    console.log('cardList props', this.props)\r\n    console.log('cardList state', this.state.cardList)\r\n    if (this.props.cardList.length < 1) {\r\n      return (\r\n        <div className=\"card-list_no-content\">\r\n          <h2 className=\"card-list__title\">Добавьте карточку :)</h2>\r\n        </div>\r\n      )\r\n    }\r\n\r\n    if (this.props.cardList.length > 0 && this.state.cardList.length < 1) {\r\n      return (\r\n        <div className=\"card-list_no-content\">\r\n          <h2 className=\"card-list__title\">Лайкните понравившуюся карточку!</h2>\r\n        </div>\r\n      )\r\n    }\r\n\r\n    return (\r\n      <div className=\"card-list\">\r\n        {this.state.cardList.map((card) => (\r\n          <Card\r\n            key={card.id}\r\n            url={card.url}\r\n            liked={card.liked}\r\n            id={card.id}\r\n            onChangeLikeCard={this.onChangeLikeCard}\r\n            onDeleteCard={this.onDeleteCard}\r\n          />\r\n        ))}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import { Card, CardListStorage } from './interfaces'\r\nimport { IAction } from '../../../interfaces'\r\nimport { actions } from './index'\r\n\r\nconst initialState: CardListStorage = {\r\n  cardList: [],\r\n  filter: false\r\n}\r\n\r\nfunction onChangeLike(state: CardListStorage, card: Card): CardListStorage {\r\n  const modifyCardList = state.cardList.map((cardEl) => {\r\n    if (cardEl.id === card.id) {\r\n      cardEl.liked = card.liked\r\n      return cardEl\r\n    }\r\n\r\n    return cardEl\r\n  })\r\n  return { ...state, cardList: modifyCardList }\r\n}\r\n\r\nfunction onDeleteCard(state: CardListStorage, card: Card): CardListStorage {\r\n  const modifyCardList = state.cardList.filter((cardEl) => cardEl.id !== card.id)\r\n  return { ...state, cardList: modifyCardList }\r\n}\r\n\r\nexport function reducer(state = initialState, action: IAction): CardListStorage {\r\n  switch (action.type) {\r\n    case actions.CHANGE_LIKE_CARD:\r\n      return onChangeLike(state, action.payload as Card)\r\n    case actions.DELETE_CARD:\r\n      return onDeleteCard(state, action.payload as Card)\r\n\r\n    default:\r\n      return { ...state }\r\n  }\r\n}\r\n","import { Actions } from './actions'\r\nexport type { CardListStorage, CardListProps } from './interfaces'\r\nexport { CardList } from './CardList'\r\nexport { reducer } from './reducer'\r\nexport const actions = new Actions()\r\n","import { IAction } from '../../../interfaces'\r\nimport { Card } from './interfaces'\r\n\r\nexport class Actions {\r\n  readonly CHANGE_LIKE_CARD = 'CHANGE_LIKE_CARD'\r\n  readonly DELETE_CARD = 'DELETE_CARD'\r\n\r\n  onChangeLikeCard = (card: Card): IAction => ({ type: this.CHANGE_LIKE_CARD, payload: card })\r\n  onDeleteCard = (card: Card): IAction => ({ type: this.DELETE_CARD, payload: card })\r\n}\r\n","import { combineReducers } from 'redux'\r\n\r\nimport { reducer as sidebar } from '../js/components/sidebar'\r\nimport { reducer as cardList } from './CardListReducer'\r\n\r\nexport default combineReducers({ sidebar, cardList })\r\n","import { IAction } from '../interfaces'\r\nimport { reducer as cardListReducer, CardListStorage } from '../js/components/card-list'\r\nimport { Card } from '../js/components/card-list/interfaces'\r\nimport { actions as actionsSidebar } from '../js/components/sidebar'\r\n\r\nfunction addCard(state: CardListStorage, card: Card): CardListStorage {\r\n  const modifyCardList = [...state.cardList]\r\n  modifyCardList.push(card)\r\n  return { ...state, cardList: modifyCardList }\r\n}\r\n\r\nexport function reducer(state: CardListStorage, action: IAction): CardListStorage {\r\n  switch (action.type) {\r\n    case actionsSidebar.GET_DOGS_OK:\r\n      return addCard(state, action.payload as Card)\r\n\r\n    default:\r\n      return cardListReducer(state, action)\r\n  }\r\n}\r\n","import { connect } from 'react-redux'\r\nimport { Storage } from './interfaces'\r\nimport { CardList, CardListProps } from './js/components/card-list'\r\nimport { Sidebar, SidebarProps } from './js/components/sidebar'\r\n\r\nexport const SidebarContainer = connect(sidebar)(Sidebar),\r\n  DogsContainer = connect(cardList)(CardList)\r\n\r\nfunction sidebar(state: Storage): SidebarProps {\r\n  return { ...state.sidebar }\r\n}\r\n\r\nfunction cardList(state: Storage): CardListProps {\r\n  return { ...state.cardList, filter: state.sidebar.filter }\r\n}\r\n","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport './index.css'\r\nimport { applyMiddleware, createStore } from 'redux'\r\nimport reducer from './reducers'\r\nimport { actionFn } from './utils'\r\nimport { Provider } from 'react-redux'\r\nimport * as containers from './containers'\r\n\r\nconst store = applyMiddleware(actionFn)(createStore)(reducer)\r\n\r\nconsole.log(store.getState())\r\n\r\nif (document.getElementById('sidebar')) {\r\n  ReactDOM.render(\r\n    <Provider store={store}>\r\n      <containers.SidebarContainer />\r\n    </Provider>,\r\n    document.getElementById('sidebar')\r\n  )\r\n}\r\n\r\nif (document.getElementById('card-list')) {\r\n  ReactDOM.render(\r\n    <Provider store={store}>\r\n      <containers.DogsContainer />\r\n    </Provider>,\r\n    document.getElementById('card-list')\r\n  )\r\n}\r\n"],"sourceRoot":""}